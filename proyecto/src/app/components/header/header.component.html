<nav
  class="bg-[#843030] text-[#f5f5dc] sticky z-50 backdrop-blur-md shadow-md w-full font-[Poppins,sans-serif]"
>
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 items-center justify-between">
      <!-- Logo -->
      <div class="flex items-center">
        <img
          class="h-9 w-auto rounded"
          src="./assets/imagenes/logoNav.png"
          alt="Logo"
        />
      </div>

      <!-- Menú escritorio -->
      <div class="hidden sm:flex space-x-6 items-center relative">
        <a routerLink="/app/home" routerLinkActive="active" class="menu-romboide">
          <span>{{ "nav.home" | translate }}</span>
        </a>
        <a
          routerLink="/app/libros"
          routerLinkActive="active"
          class="menu-romboide"
        >
          <span>{{ "nav.libros" | translate }}</span>
        </a>
        <a
          routerLink="/app/clubs"
          routerLinkActive="active"
          class="menu-romboide"
        >
          <span>{{ "nav.clubs_y_usuarios" | translate }}</span>
        </a>
      </div>

      <!-- Iconos derecha + botones de idioma -->
      <div class="flex items-center space-x-4">

        <!-- Menú perfil desplegable -->
        <div class="relative group">
          <button
            class="flex items-center space-x-2 p-1 rounded-full bg-[#a64545] hover:bg-[#9d3e3e] transition"
          >
            @if(usuario?.avatar){
            <img
              [src]="usuario?.avatar"
              alt="{{ 'perfil.imagen_perfil_alt' | translate }}"
              class="w-8 h-8 rounded-full border-2 border-gray-300"
            />
            }@else{
            <img
              src="../assets/imagenes/usuario.jpg"
              alt="{{ 'perfil.imagen_perfil_alt' | translate }}"
              class="w-8 h-8 rounded-full border-2 border-gray-300"
            />
            }
          </button>
          <div
            class="absolute right-0 hidden group-hover:block bg-white border rounded-lg shadow-lg py-1 w-48"
          >
            <a
              (click)="redirigirPerfil(usuario.id_usuario)"
              class="block px-4 py-2 text-sm text-gray-700 hover:bg-[#f5f5dc] cursor-pointer"
              >{{ "nav.tu_perfil" | translate }}</a
            >
            <a
              (click)="cerrarSesion()"
              class="block px-4 py-2 text-sm text-gray-700 hover:bg-[#f5f5dc]"
              >{{ "nav.cerrar_sesion" | translate }}</a
            >
          </div>
        </div>

        <!-- Botones de idioma -->
        <div
          class="flex ml-4 rounded-md overflow-hidden border border-[#FCD26E] text-sm"
        >
          <!-- sistema para el cambio de color segun el idioma seleccionado  -->
          <button
            (click)="traducir('es'); idiomaActual = 'es'"
            [class.bg-[#FCD26E]]="idiomaActual === 'es'"
            [class.text-[#843030]]="idiomaActual === 'es'"
            [class.bg-transparent]="idiomaActual !== 'es'"
            [class.text-[#FCD26E]]="idiomaActual !== 'es'"
            class="py-0.5 px-3 font-semibold transition focus:outline-none"
          >
            Esp
          </button>
          <button
            (click)="traducir('en'); idiomaActual = 'en'"
            [class.bg-[#FCD26E]]="idiomaActual === 'en'"
            [class.text-[#843030]]="idiomaActual === 'en'"
            [class.bg-transparent]="idiomaActual !== 'en'"
            [class.text-[#FCD26E]]="idiomaActual !== 'en'"
            class="py-0.5 px-3 font-semibold transition focus:outline-none"
          >
            Eng
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Menú móvil -->
  <div class="sm:hidden px-4 pb-4 space-y-2 bg-[#843030]">
    <a routerLink="/app/home" routerLinkActive="active" class="menu-romboide">
      <span>{{ "nav.home" | translate }}</span>
    </a>
    <a routerLink="/app/libros" routerLinkActive="active" class="menu-romboide">
      <span>{{ "nav.libros" | translate }}</span>
    </a>
    <a routerLink="/app/clubs" routerLinkActive="active" class="menu-romboide">
      <span>{{ "nav.clubs_y_usuarios" | translate }}</span>
    </a>
  </div>
</nav>
